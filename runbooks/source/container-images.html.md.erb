---
title: Container Images used by Cluster Components
weight: 55
last_reviewed_on: 2025-07-28
review_in: 6 months
---

# Container Images used by Cluster Components

This runbook contains the list of container images used by the Cloud Platform components.

## How to update this runbook

### Check current components images versions

To grab the current image versions for all containers within components namespace pods, you can run the following command:

```bash
kubectl get pods -n [NAMESPACE] -o jsonpath='{range .items[*]}{"\n"}{.metadata.name}{":\t"}{range .spec.containers[*]}{.image}{", "}{end}{end}' | sort
```

or run the following script:

[container_versions.bash](https://github.com/ministryofjustice/cloud-platform/blob/main/scripts/container_versions.bash)

```bash
./container_versions.bash [NAMESPACE]
```

### Latest version for k8s 1.31

The latest versions of some of the components might not be compatible with k8s 1.31. For this, click the link to check the Compatibility Matrix

### Latest version available
That's the latest version available in the public repository. Update the version when there is a new release. You can find the latest version by clicking on the link or by checking the
[reports](https://reports.cloud-platform.service.justice.gov.uk/helm_whatup) page

### Urgency

This depends on several factors, some of them are:
- the kubernetes version has been updated and the version currently used or no longer supported
- the component is not working as expected and the latest version might fix the issue
- the component is 1 major version behind and more than 3 minor versions behind

🟢 - low, OK to leave for now

🟠 - medium, within the next 2 sprints/4 weeks

🔴 - urgent, within this sprint

## calico-apiserver
| container image | urgency | latest version for k8s 1.31 | latest version available | latest helm chart |
|-|-|-|-|-|
| docker.io/calico/apiserver:v3.28.1 | 🟠 | [v3.29.0](https://docs.tigera.io/calico/latest/getting-started/kubernetes/requirements#kubernetes-requirements) |[v3.30.2](https://github.com/projectcalico/calico/releases/tag/v3.30.2) | [v1.38.4](https://github.com/tigera/operator/releases/tag/v1.38.4) |

## calico-system

_Calico Kubernetes compatibility guidance [here](https://docs.tigera.io/calico/latest/getting-started/kubernetes/requirements#kubernetes-requirements)_

| container image | urgency | latest version for k8s 1.31 | latest version available | latest helm chart |
|-|-|-|-|-|
| docker.io/calico/csi| 🟠 | [v3.30.2](https://docs.tigera.io/calico/latest/getting-started/kubernetes/requirements#kubernetes-requirements) |[v3.30.2](https://github.com/projectcalico/calico/releases/tag/v3.30.2) | [v1.38.4](https://github.com/tigera/operator/releases/tag/v1.38.4) |
| docker.io/calico/kube-controllers | 🟠 | [v3.29.0](https://docs.tigera.io/calico/latest/getting-started/kubernetes/requirements#kubernetes-requirements) |[v3.30.2](https://github.com/projectcalico/calico/releases/tag/v3.30.2) | [v1.38.4](https://github.com/tigera/operator/releases/tag/v1.38.4) |
| docker.io/calico/node-driver-registrar | 🟠 | [v3.29.0](https://docs.tigera.io/calico/latest/getting-started/kubernetes/requirements#kubernetes-requirements) |[v3.30.2](https://github.com/projectcalico/calico/releases/tag/v3.30.2) | [v1.38.4](https://github.com/tigera/operator/releases/tag/v1.38.4) |
| docker.io/calico/node | 🟠 | [v3.30.2](https://docs.tigera.io/calico/latest/getting-started/kubernetes/requirements#kubernetes-requirements) |[v3.30.2](https://github.com/projectcalico/calico/releases/tag/v3.30.2) | [v1.38.4](https://github.com/tigera/operator/releases/tag/v1.38.4) |
| docker.io/calico/typha | 🟠 | [v3.30.2](https://docs.tigera.io/calico/latest/getting-started/kubernetes/requirements#kubernetes-requirements) |[v3.30.2](https://github.com/projectcalico/calico/releases/tag/v3.30.2) | [v1.38.4](https://github.com/tigera/operator/releases/tag/v1.38.4) |

## cert-manager
| container image | urgency | latest version for k8s 1.31 | latest version available | latest helm chart |
|-|-|-|-|-|
| quay.io/jetstack/cert-manager-cainjector:v1.18.2 | 🟢 | [v1.18.2](https://cert-manager.io/docs/releases/#currently-supported-releases) | [v1.18.2](https://github.com/cert-manager/cert-manager/releases/tag/v1.18.2) | [v1.18.2](https://github.com/cert-manager/cert-manager/releases/tag/v1.18.2) |
| quay.io/jetstack/cert-manager-controller:v1.18.2 | 🟢 | [v1.18.2](https://cert-manager.io/docs/releases/#currently-supported-releases) | [v1.18.2](https://github.com/cert-manager/cert-manager/releases/tag/v1.18.2) | [v1.18.2](https://github.com/cert-manager/cert-manager/releases/tag/v1.18.2) |
| quay.io/jetstack/cert-manager-webhook:v1.18.2 | 🟢 | [v1.18.2](https://cert-manager.io/docs/releases/#currently-supported-releases) | [v1.18.2](https://github.com/cert-manager/cert-manager/releases/tag/v1.18.2) | [v1.18.2](https://github.com/cert-manager/cert-manager/releases/tag/v1.18.2) |

## concourse
| container image | urgency | latest version for k8s 1.31 | latest version available | latest helm chart |
|-|-|-|-|-|
| concourse/concourse:7.10.0 | 🟠 | [v7.13.2](https://github.com/concourse/concourse/releases/tag/v7.13.2) | [v7.13.2](https://github.com/concourse/concourse/releases/tag/v7.13.2) | [v18.2.0](https://github.com/concourse/concourse-chart/releases/tag/v18.2.0)

## external-secrets-operator
| container image | urgency | latest version for k8s 1.31 | latest version available | latest helm chart |
|-|-|-|-|-|
| oci.external-secrets.io/external-secrets/external-secrets:v0.13.0 | 🟢 | [v0.13.x](https://external-secrets.io/latest/introduction/stability-support/#supported-versions) | [v0.19.2](https://github.com/external-secrets/external-secrets/releases/tag/v0.19.2)  | [v0.18.2](https://github.com/external-secrets/external-secrets/releases/tag/helm-chart-0.19.2)

## gatekeeper-system
| container image | urgency | latest version for k8s 1.31 | latest version available | latest helm chart |
|-|-|-|-|-|
| openpolicyagent/gatekeeper:v3.18.3: | 🟠 | v3.20.0 | [v3.20.0](https://github.com/open-policy-agent/gatekeeper/releases/tag/v3.20.0) | [v3.20.0](https://github.com/open-policy-agent/gatekeeper/releases/tag/v3.20.0) |

## ingress-controllers
| container image | urgency | latest version for k8s 1.31 | latest version available | latest helm chart |
|-|-|-|-|-|
| debian:bookworm-slim::bookworm-20241016-slim | 🟢 | latest | n/a |
| fluent/fluent-bit:4.0.2-amd64 | 🟢 | v4.x.x | [v4.x.x](https://github.com/fluent/fluent-bit/releases/tag/v4.0.5) | n/a |
| ministryofjustice/cloud-platform-custom-error-pages:1.1.5 | 🟢 | [managed by us](https://github.com/ministryofjustice/cloud-platform-custom-error-pages) | [managed by us](https://github.com/ministryofjustice/cloud-platform-custom-error-pages/releases/tag/1.1.5) | n/a |
| registry.k8s.io/ingress-nginx/controller:v1.12.0| 🟢 | [v1.13.0](https://github.com/kubernetes/ingress-nginx?tab=readme-ov-file#supported-versions-table) | [v1.11.3](https://github.com/kubernetes/ingress-nginx/releases/tag/controller-v1.11.3) | [v4.13.0](https://github.com/kubernetes/ingress-nginx/releases/tag/helm-chart-4.13.0)

## kube-system

_Cluster Autoscaler version should match the cluster version_

| container image | urgency | latest version for k8s 1.31 | latest version available | latest helm chart |
|-|-|-|-|-|
| docker.io/bitnamilegacy/external-dns:0.15.1-debian-12-r1 | 🟠 | v0.15.x | [v0.18.x](https://github.com/kubernetes-sigs/external-dns/releases/tag/v0.18.0) | [v0.18.x](https://github.com/kubernetes-sigs/external-dns/releases/tag/external-dns-helm-chart-1.18.0) |
| registry.k8s.io/autoscaling/cluster-autoscaler:v1.31.0 | 🟢 | [v1.31.x](https://github.com/kubernetes/autoscaler/releases/tag/cluster-autoscaler-1.30.4) | [v1.33.0](https://github.com/kubernetes/autoscaler/releases/tag/cluster-autoscaler-1.33.0) | [9.48.0](https://github.com/kubernetes/autoscaler/releases/tag/cluster-autoscaler-chart-9.48.0) |
| registry.k8s.io/descheduler/descheduler:v0.31.0 | 🟢 | [v0.31.x](https://github.com/kubernetes-sigs/descheduler?tab=readme-ov-file#%EF%B8%8F--documentation-versions-by-release) | [v0.33.0](https://github.com/kubernetes-sigs/descheduler/releases/tag/v0.33.0) | [0.33.0](https://github.com/kubernetes-sigs/descheduler/releases/tag/descheduler-helm-chart-0.33.0) |
| registry.k8s.io/metrics-server/metrics-server:v0.8.0 | 🟢 | [v0.8.x](https://github.com/kubernetes-sigs/metrics-server?tab=readme-ov-file#compatibility-matrix) | [v0.8.0](https://github.com/kubernetes-sigs/metrics-server/releases/tag/v0.8.0) | [3.13.0](https://github.com/kubernetes-sigs/metrics-server/releases/tag/metrics-server-helm-chart-3.13.0) |
| public.ecr.aws/ebs-csi-driver/aws-ebs-csi-driver:v1.41.0 | 🟢 | [v1.41.0](https://github.com/kubernetes-sigs/aws-ebs-csi-driver/releases) | [v1.41.0](https://github.com/kubernetes-sigs/aws-ebs-csi-driver/releases/tag/v1.41.0) | [2.41.0](https://github.com/kubernetes-sigs/aws-ebs-csi-driver/releases/tag/helm-chart-aws-ebs-csi-driver-2.46.0) |

## kuberos
| container image | urgency | latest version for k8s 1.31 | latest version available | latest helm chart |
|-|-|-|-|-|
| ministryofjustice/cloud-platform-kuberos:2.7.0 | 🟢 | managed by us | [0.4.0](https://github.com/ministryofjustice/cloud-platform-helm-charts/tree/main/kuberos) | [0.4.0](https://github.com/ministryofjustice/cloud-platform-helm-charts/tree/main/kuberos)

## logging
| container image | urgency | latest version for k8s 1.31 | latest version available | latest helm chart |
|-|-|-|-|-|
| fluent/fluent-bit:4.0.1 | 🟢 | v4.0.5 | [v4.0.5](https://github.com/fluent/fluent-bit/releases/tag/v4.0.5) | [0.50.0](https://github.com/fluent/helm-charts/releases/tag/fluent-bit-0.50.0) |

## monitoring

_[Prometheus Stack chart](https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack) manages image versions for several monitoring components_

| container image | urgency | latest version for k8s 1.31 | latest version available | latest helm chart |
|-|-|-|-|-|
| ministryofjustice/prometheus-ecr-exporter:0.2.0 | 🟢 | managed by us | n/a | [0.4.0](https://github.com/ministryofjustice/cloud-platform-helm-charts/blob/main/prometheus-ecr-exporter/Chart.yaml#L5) |
| ghcr.io/nerdswords/yet-another-cloudwatch-exporter:v0.61.2 | 🟢 | v0.62.1 | [v0.62.1](https://github.com/nerdswords/yet-another-cloudwatch-exporter/releases) | [0.38.0](https://github.com/nerdswords/helm-charts/releases)
| quay.io/oauth2-proxy/oauth2-proxy:v7.6.0 | 🟠 | v7.10.0 | [v7.10.0](https://github.com/oauth2-proxy/oauth2-proxy/releases/tag/v7.10.0) | [7.14.12](https://github.com/oauth2-proxy/manifests/releases/tag/oauth2-proxy-7.14.2) |
| quay.io/prometheus-operator/prometheus-operator:v0.78.1 | 🟢 | v0.78.1 | [v0.78.1](https://github.com/prometheus-operator/prometheus-operator/releases/tag/v0.78.1) | [75.15.0](https://github.com/prometheus-community/helm-charts/blob/main/charts/kube-prometheus-stack/Chart.yaml#L34) |
| quay.io/thanos/thanos:v0.36.1 | 🟢 | v0.39.2 | [v0.39.2](https://github.com/bitnami/charts/blob/main/bitnami/thanos/Chart.yaml) | [17.2.3](https://github.com/bitnami/charts/blob/c52ccd47ba9334bd99eeb438d2dc188497e50703/bitnami/thanos/Chart.yaml#L38) |

## overprovision
| container image | urgency | latest version for k8s 1.31 | latest version available | latest helm chart |
|-|-|-|-|-|
| registry.k8s.io/cpa/cluster-proportional-autoscaler:1.8.6 | 🟠 | v1.9.0 | [v1.9.0](https://github.com/kubernetes-sigs/cluster-proportional-autoscaler/releases/tag/v1.9.0) | [1.1.0](https://github.com/kubernetes-sigs/cluster-proportional-autoscaler/blob/master/charts/cluster-proportional-autoscaler/Chart.yaml)
| registry.k8s.io/pause:3.9 | 🟢 | v3.9 | [v3.9](https://github.com/kubernetes/kubernetes/tree/master/build/pause) | [registry](https://github.com/kubernetes/registry.k8s.io/blob/main/docs/debugging.md#verify-image-repositories-and-tags) |

## tigera-operator

_Calico Kubernetes compatibility guidance [here](https://docs.tigera.io/calico/latest/getting-started/kubernetes/requirements#kubernetes-requirements)_

| container image | urgency | latest version for k8s 1.31 | latest version available | latest helm chart |
|-|-|-|-|-|
| quay.io/tigera/operator:v1.34.3 | 🟠 | v1.36.1 | [v1.36.12](https://github.com/tigera/operator/releases/tag/v1.36.12) | [3.30.2](https://github.com/projectcalico/calico/tree/master/charts/tigera-operator)

## trivy-system
| container image | urgency | latest version for k8s 1.31 | latest version available | latest helm chart |
|-|-|-|-|-|
| mirror.gcr.io/aquasec/trivy-operator:0.28.0 | 🟢 | v0.28.0| [v0.28.0](https://github.com/aquasecurity/trivy-operator/releases/tag/v0.28.0) | [0.30.0](https://github.com/aquasecurity/trivy-operator/blob/main/deploy/helm/Chart.yaml)
| trivy-server-0:	mirror.gcr.io/aquasec/trivy:0.65.0 | 🟢 | v0.65.0 | [v0.65.0](https://github.com/aquasecurity/trivy/releases) | [0.29.3](https://github.com/aquasecurity/trivy-operator/blob/main/deploy/helm/Chart.yaml)

## velero
| container image | urgency | latest version for k8s 1.31 | latest version available | latest helm chart |
|-|-|-|-|-|
| velero/velero:v1.16.2 | 🟢 | [v1.16.2](https://github.com/vmware-tanzu/velero?tab=readme-ov-file#velero-compatibility-matrix) | [v1.16.2](https://github.com/vmware-tanzu/velero/releases) | [10.1.1](https://github.com/vmware-tanzu/helm-charts/blob/main/charts/velero/Chart.yaml) |
