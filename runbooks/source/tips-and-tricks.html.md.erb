---
title: Tips and Tricks
weight: 9200
last_reviewed_on: 2019-09-10
review_in: 3 months
---

# Tips and Tricks

A collection of useful one-liners and code snippets.

## Check the expiration date of the SSL certificate for a live domain

```bash
$ echo | openssl s_client -connect google.com:443 | openssl x509 -noout -enddate
depth=1 C = US, O = Google Trust Services, CN = Google Internet Authority G3
verify error:num=20:unable to get local issuer certificate
verify return:0
DONE
notAfter=Oct 21 18:23:00 2019 GMT
```

## Run `etcdctl` on a master node

While SSHed onto a master:

```bash
$ sudo docker ps | grep etcd.manager
```

Pick the kopeio/etcd-manager container you're interested in ('main' or 'events') and then docker exec onto it

```bash
$ sudo docker exec -it [container id] bash
```

Now you can run etcdctl like this:

```bash
cd /opt/etcd-v3.3.10-linux-amd64/

ETCDCTL_API=3 \
  ./etcdctl --key /rootfs/etc/kubernetes/pki/kube-apiserver/etcd-client.key \
  --cert  /rootfs/etc/kubernetes/pki/kube-apiserver/etcd-client.crt \
  --cacert /rootfs/etc/kubernetes/pki/kube-apiserver/etcd-ca.crt  \
  --endpoints "https://etcd-a.internal.live-1.cloud-platform.service.justice.gov.uk:4001,https://etcd-b.internal.live-1.cloud-platform.service.justice.gov.uk:4001,https://etcd-c.internal.live-1.cloud-platform.service.justice.gov.uk:4001" endpoint health
```
